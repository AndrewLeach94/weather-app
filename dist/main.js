(()=>{"use strict";const e=document.querySelector("#submit_location"),t=document.querySelector("#input_location"),n=document.querySelector("main"),c=document.querySelector("#imperial"),o=document.querySelector("#metric"),r=()=>{const e=t.value;u(e,"button_measurement-selected"==c.className?"imperial":"metric")},i=()=>{const e=document.querySelector("#current-city").textContent;u(e,"metric"),o.removeEventListener("click",i),c.addEventListener("click",a),c.className="button_measurement",o.className="button_measurement-selected"},a=()=>{const e=document.querySelector("#current-city").textContent;u(e,"imperial"),c.removeEventListener("click",a),o.addEventListener("click",i),c.className="button_measurement-selected",o.className="button_measurement"},u=async(e,t)=>{try{const c=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&appid=62559260c941ebf6fd752e2570f6c760`,{mode:"cors"}),o=await c.json();"city not found"==o.message&&(()=>{const e=document.querySelector("#location-container"),t=document.createElement("p");t.textContent="Couldn't find this city. Please check your spelling",t.id="error_city",e.appendChild(t),setTimeout((function(){t.remove()}),4e3)})();const r=o.name,i=o.main.temp,a=o.main.feels_like,u=o.main.humidity,d=o.weather[0].main,m=o.wind.speed,s=e=>{document.querySelector("#current-city").textContent=e},l=e=>{document.querySelector("#current-conditions").textContent=e},y=e=>{document.querySelector("#current-humidity").textContent=`Humidity:  ${e}%`},p=e=>{const t=Math.round(e);document.querySelector("#current-feel").textContent=`Feels Like: ${t}°`},h=e=>{const n=Math.round(e);document.querySelector("#current-wind").textContent="imperial"==t?`Wind: ${n} mph`:`Wind: ${n} kph`};(e=>{const t=Math.round(e);document.querySelector("#current-temperature").textContent=t+"°"})(i),s(r),l(d),y(u),p(a),h(m),n.style.background="Clouds"==d?"var(--background_cloudy)":"Mist"==d||"Rain"==d?"var(--background_rainy)":"Snow"==d?"var(--background_snowy)":"var(--background_sunny)"}catch(e){console.error("Something went wrong with the current conditions")}};document.onreadystatechange=function(){if("loading"===document.readyState){const e=document.createElement("div");e.id="load-screen",document.body.appendChild(e)}},window.addEventListener("load",(()=>{u("New Orleans","imperial"),e.addEventListener("click",r),o.addEventListener("click",i)}))})();